<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPARQL with RNeXML • RNeXML</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="SPARQL with RNeXML">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RNeXML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/S4.html">The nexml S4 Object</a>
    </li>
    <li>
      <a href="../articles/intro.html">A Brief Introduction to RNeXML</a>
    </li>
    <li>
      <a href="../articles/metadata.html">Handling Metadata in RNeXML</a>
    </li>
    <li>
      <a href="../articles/simmap.html">Extending NeXML: an example based on simmap</a>
    </li>
    <li>
      <a href="../articles/sparql.html">SPARQL with RNeXML</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/RNeXML">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>SPARQL with RNeXML</h1>
                        <h4 class="author">Carl Boettiger</h4>
                        <h4 class="author">Scott Chamberlain</h4>
                        <h4 class="author">Rutger Vos</h4>
                        <h4 class="author">Hilmar Lapp</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/RNeXML/blob/master/vignettes/sparql.Rmd"><code>vignettes/sparql.Rmd</code></a></small>
      <div class="hidden name"><code>sparql.Rmd</code></div>

    </div>

    
    
<!--
%\VignetteEngine{knitr::rmarkdown}
%\VignetteIndexEntry{SPARQL with RNeXML}
-->
<div id="sparql-queries" class="section level2">
<h2 class="hasAnchor">
<a href="#sparql-queries" class="anchor"></a>SPARQL Queries</h2>
<p>Rich, semantically meaningful metadata lies at the heart of the NeXML standard. R provides a rich environment to unlock this information. While our previous examples have relied on the user knowing exactly what metadata they intend to extract (title, publication date, citation information, and so forth), <em>semantic</em> metadata has meaning that a computer can make use of, allowing us to make much more conceptually rich queries than those simple examples. The SPARQL query language is a powerful way to make use of such semantic information in making complex queries.</p>
<p>While users should consult a formal introduction to SPARQL for further background, here we illustrate how SPARQL can be used in combination with R functions in ways that would be much more tedious to assemble with only traditional/non-semantic queries. The SPARQL query language is provided for the R environment through the <code>rrdf</code> package <span class="citation">[@Willighagen_2014]</span>, so we start by loading that package. We will also make use of functions from <code>phytools</code> and <code>RNeXML</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"rdflib"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"xml2"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"phytools"</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"RNeXML"</span>)</a></code></pre></div>
<p>We read in an example file that contains semantic metadata annotations describing the taxonomic units (OTUs) used in the tree.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">nexml &lt;-<span class="st"> </span><span class="kw"><a href="../reference/nexml_read.html">nexml_read</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples/primates.xml"</span>, <span class="dt">package=</span><span class="st">"RNeXML"</span>))</a></code></pre></div>
<p>In particular, this example declares the taxon rank, NCBI identifier and parent taxon for each OTU, such as:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">&lt;otu</span><span class="ot"> about=</span><span class="st">"#ou541"</span><span class="ot"> id=</span><span class="st">"ou541"</span><span class="ot"> label=</span><span class="st">"Alouatta guariba"</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Comparison">&gt;</a></span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">      <span class="kw">&lt;meta</span><span class="ot"> href=</span><span class="st">"http://ncbi.nlm.nih.gov/taxonomy/182256"</span> </a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="ot">            id=</span><span class="st">"ma20"</span> </a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="ot">            rel=</span><span class="st">"concept:toTaxon"</span> </a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="ot">            xsi:type=</span><span class="st">"nex:ResourceMeta"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">      <span class="kw">&lt;meta</span><span class="ot"> href=</span><span class="st">"http://rs.tdwg.org/ontology/voc/TaxonRank#Species"</span> </a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="ot">            id=</span><span class="st">"ma21"</span> </a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="ot">            rel=</span><span class="st">"concept:rank"</span> </a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="ot">            xsi:type=</span><span class="st">"nex:ResourceMeta"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">      <span class="kw">&lt;meta</span><span class="ot"> href=</span><span class="st">"http://ncbi.nlm.nih.gov/taxonomy/9499"</span> </a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="ot">            id=</span><span class="st">"ma22"</span> </a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="ot">            rel=</span><span class="st">"rdfs:subClassOf"</span> </a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="ot">            xsi:type=</span><span class="st">"nex:ResourceMeta"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14">    <span class="kw">&lt;/otu&gt;</span></a></code></pre></div>
<p>In this example, we will construct a cladogram by using this information to identify the taxonomic rank of each OTU, and its shared parent taxonomic rank. (If this example looks complex, try writing down the steps to do this without the aid of the SPARQL queries). These examples show the manipulation of semantic triples, Unique Resource Identifiers (URIs) and use of the SPARQL “Join” operator.</p>
<p>Note that this example can be run using <code><a href="https://www.rdocumentation.org/packages/utils/topics/demo">demo("sparql", "RNeXML")</a></code> to see the code displayed in the R terminal and to avoid character errors that can occur in having to copy and paste from PDF files.</p>
<p>We begin by extracting the RDF graph from the NeXML,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">rdf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_rdf.html">get_rdf</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples/primates.xml"</span>, <span class="dt">package=</span><span class="st">"RNeXML"</span>))</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">tmp &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempfile</a></span>()  <span class="co"># so we must write the XML out first</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">xml2<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/xml2/topics/write_xml">write_xml</a></span>(rdf, tmp) </a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">graph &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rdflib/topics/rdf_parse">rdf_parse</a></span>(tmp)</a></code></pre></div>
<p>We then fetch the NCBI URI for the taxon that has rank ‘Order’, i.e. the root of the primates phylogeny. The dot operator <code>.</code> between clauses implies a join, in this case</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">root &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rdflib/topics/rdf_query">rdf_query</a></span>(graph, </a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">"SELECT ?uri WHERE { </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">    ?id &lt;http://rs.tdwg.org/ontology/voc/TaxonConcept#rank&gt; &lt;http://rs.tdwg.org/ontology/voc/TaxonRank#Order&gt; . </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">    ?id &lt;http://rs.tdwg.org/ontology/voc/TaxonConcept#toTaxon&gt; ?uri    </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">}"</span>)</a></code></pre></div>
<p>This makes use of the SPARQL query language provided by the <code>rrdf</code> package. We will also define some helper functions that use SPARQL queries. Here we define a function to get the name</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">get_name &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  max &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(nexml<span class="op">@</span>otus[[<span class="dv">1</span>]]<span class="op">@</span>otu)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>max) {</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="cf">if</span> ( nexml<span class="op">@</span>otus[[<span class="dv">1</span>]]<span class="op">@</span>otu[[i]]<span class="op">@</span>id <span class="op">==</span><span class="st"> </span>id ) {</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">      label &lt;-<span class="st"> </span>nexml<span class="op">@</span>otus[[<span class="dv">1</span>]]<span class="op">@</span>otu[[i]]<span class="op">@</span>label</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">      label &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">gsub</a></span>(<span class="st">" "</span>,<span class="st">"_"</span>,label)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">      <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(label)</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">    }</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  }</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">}</a></code></pre></div>
<p>Next, we define a recursive function to build a newick tree from the taxonomic rank information.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">recurse &lt;-<span class="st"> </span><span class="cf">function</span>(node){</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">    <span class="co"># fetch the taxonomic rank and id string</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">    rank_query &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">        <span class="st">"SELECT ?rank ?id WHERE {</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="st">            ?id &lt;http://rs.tdwg.org/ontology/voc/TaxonConcept#toTaxon&gt; &lt;"</span>,node,<span class="st">"&gt; .</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">            ?id &lt;http://rs.tdwg.org/ontology/voc/TaxonConcept#rank&gt; ?rank</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="st">          }"</span>)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">    result &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rdflib/topics/rdf_query">rdf_query</a></span>(graph, rank_query)</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">    </a>
<a class="sourceLine" id="cb7-11" data-line-number="11">    <span class="co"># get the local ID, strip URI part</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12">    id &lt;-<span class="st"> </span>result<span class="op">$</span>id</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">    id &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">gsub</a></span>(<span class="st">"^.+#"</span>, <span class="st">""</span>, id, <span class="dt">perl =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb7-14" data-line-number="14">    </a>
<a class="sourceLine" id="cb7-15" data-line-number="15">    <span class="co"># if rank is terminal, return the name</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16">    <span class="cf">if</span> (result<span class="op">$</span>rank <span class="op">==</span><span class="st"> "http://rs.tdwg.org/ontology/voc/TaxonRank#Species"</span>) {</a>
<a class="sourceLine" id="cb7-17" data-line-number="17">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(<span class="kw">get_name</span>(id))</a>
<a class="sourceLine" id="cb7-18" data-line-number="18">    }</a>
<a class="sourceLine" id="cb7-19" data-line-number="19">    </a>
<a class="sourceLine" id="cb7-20" data-line-number="20">    <span class="co"># recurse deeper</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21">    <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb7-22" data-line-number="22">        child_query &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(</a>
<a class="sourceLine" id="cb7-23" data-line-number="23">            <span class="st">"SELECT ?uri WHERE {</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="st">                ?id &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;"</span>,node,<span class="st">"&gt; .</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="st">                ?id &lt;http://rs.tdwg.org/ontology/voc/TaxonConcept#toTaxon&gt; ?uri</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="st">            }"</span>)</a>
<a class="sourceLine" id="cb7-27" data-line-number="27">        children &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rdflib/topics/rdf_query">rdf_query</a></span>(graph, child_query)</a>
<a class="sourceLine" id="cb7-28" data-line-number="28">        </a>
<a class="sourceLine" id="cb7-29" data-line-number="29">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">"("</span>, </a>
<a class="sourceLine" id="cb7-30" data-line-number="30">                     <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(children<span class="op">$</span>uri, recurse), </a>
<a class="sourceLine" id="cb7-31" data-line-number="31">                           <span class="dt">sep =</span> <span class="st">","</span>, <span class="dt">collapse =</span> <span class="st">","</span> ), </a>
<a class="sourceLine" id="cb7-32" data-line-number="32">                     <span class="st">")"</span>,  </a>
<a class="sourceLine" id="cb7-33" data-line-number="33">                     <span class="kw">get_name</span>(id), <span class="co"># label interior nodes</span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34">                     <span class="dt">sep =</span> <span class="st">""</span>, <span class="dt">collapse =</span> <span class="st">""</span>))</a>
<a class="sourceLine" id="cb7-35" data-line-number="35">    }</a>
<a class="sourceLine" id="cb7-36" data-line-number="36">}</a></code></pre></div>
<p>With these functions in place, it is straight forward to build the tree from the semantic RDFa data and then visualize it</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">newick &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="kw">recurse</span>(root), <span class="st">";"</span>, <span class="dt">sep =</span> <span class="st">""</span>, <span class="dt">collapse =</span> <span class="st">""</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">tree &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/phytools/topics/read.newick">read.newick</a></span>(<span class="dt">text =</span> newick)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">collapsed &lt;-<span class="st"> </span><span class="kw">collapse.singles</span>(tree)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(collapsed, </a>
<a class="sourceLine" id="cb8-5" data-line-number="5">     <span class="dt">type=</span><span class="st">'cladogram'</span>, </a>
<a class="sourceLine" id="cb8-6" data-line-number="6">     <span class="dt">show.tip.label=</span><span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb8-7" data-line-number="7">     <span class="dt">show.node.label=</span><span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb8-8" data-line-number="8">     <span class="dt">cex=</span><span class="fl">0.75</span>, </a>
<a class="sourceLine" id="cb8-9" data-line-number="9">     <span class="dt">edge.color=</span><span class="st">'grey60'</span>, </a>
<a class="sourceLine" id="cb8-10" data-line-number="10">     <span class="dt">label.offset=</span><span class="op">-</span><span class="dv">9</span>)</a></code></pre></div>
<p><img src="sparql_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#sparql-queries">SPARQL Queries</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Carl Boettiger, Scott Chamberlain, Hilmar Lapp, Kseniia Shumelchyk, Rutger Vos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
